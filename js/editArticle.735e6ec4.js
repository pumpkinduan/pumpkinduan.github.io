(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["editArticle"],{"78d4":function(t,e,a){"use strict";var i=a("f6f4"),n=a.n(i);n.a},f6f4:function(t,e,a){},fcf0:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"edit-article"},[a("Publish",{ref:"edit",attrs:{labels:t.labels,edit:!0,tableData:t.tableData,title:"编辑文章",btnText:"开始编辑"},on:{handleSumbit:t.handleSumbit,resetDialog:t.resetDialog}})],1)},n=[],r=a("21f4"),s=a("2423"),l=a("b16a"),o={name:"EditArticle",components:{Publish:r["a"]},data:function(){return{file:"",flag:!0,edit:!1,title:"发布文章",labels:{tag:"标签",title:"标题",description:"描述",author:"作者"},tableData:[{tag:"",title:"",description:"",author:""}]}},beforeRouteEnter:function(t,e,a){var i=t.params.article;i&&a((function(t){for(var e in t.title="编辑文章",t.btnText="开始编辑",t.edit=!0,t.tableData[0])t.tableData[0][e]=i[e];s["a"].getArticleDetail(i.article_id).then((function(e){e.data&&e.data.data&&(t.$refs.edit.$refs.quillEditor.quill.root.innerHTML=e.data.data.content)}))}))},beforeRouteLeave:function(t,e,a){sessionStorage.clear(),a()},methods:{handleSumbit:function(t){var e=this;s["a"].updateArticle(t,this.$route.params.article.article_id).then((function(a){a.data&&(e.submitSuccess(a.data),l["a"].createOneTimeline({title:t.title,status:"更新文章"}))})).catch((function(t){}))},submitSuccess:function(t){sessionStorage.clear(),this.$refs.edit.$refs.quillEditor.quill.root.innerHTML="",this.resetDialog(),this.$message({message:t.msg,duration:1e3}),this.$router.push({name:"ArticleList"})},resetDialog:function(){for(var t in this.tableData[0])this.tableData[0][t]=""}}},c=o,u=(a("78d4"),a("2877")),d=Object(u["a"])(c,i,n,!1,null,"3dd08240",null);e["default"]=d.exports}}]);
//# sourceMappingURL=editArticle.735e6ec4.js.map